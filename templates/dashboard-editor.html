<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Editor</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
    <div class="container mt-5">
        <div class="card shadow p-4">
            <h2 class="text-center mb-4">Dashboard - Editor</h2>
            <p><strong>Username:</strong> {{ request.user.username }}</p>
            <p><strong>Group:</strong> {{ group_name }}</p>
            {% if messages %}
                {% for message in messages %}
                    <div class="alert {% if message.tags == 'error' %}alert-danger{% else %}alert-success{% endif %}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
            <p>You have access to the client table.</p>
            <a href="{% url 'client_table' %}" class="btn btn-primary">Preview Client Table</a>

            <!-- Button to toggle form -->
            <button class="btn btn-outline-success mt-3" type="button" data-bs-toggle="collapse" data-bs-target="#addClientForm" aria-expanded="false" aria-controls="addClientForm">
                Add New Client
            </button>

            <!-- Collapsible Add Client Form -->
            <div class="collapse mt-3" id="addClientForm">
                <h4>Add New Client</h4>
                <form method="post">
                    {% csrf_token %}
                    <div class="mb-3">
                        <label for="nome_negozio" class="form-label">Nome Negozio *</label>
                        <input type="text" class="form-control" id="nome_negozio" name="nome_negozio" required>
                    </div>
                    <div class="mb-3">
                        <label for="telefono" class="form-label">Telefono *</label>
                        <input type="text" class="form-control" id="telefono" name="telefono" required>
                    </div>
                    <div class="mb-3">
                        <label for="tipo_negozio" class="form-label">Tipo Negozio</label>
                        <input type="text" class="form-control" id="tipo_negozio" name="tipo_negozio">
                    </div>
                    <div class="mb-3">
                        <label for="indirizzo" class="form-label">Indirizzo</label>
                        <input type="text" class="form-control" id="indirizzo" name="indirizzo">
                    </div>
                    <div class="mb-3">
                        <label for="citta" class="form-label">Citt√†</label>
                        <input type="text" class="form-control" id="citta" name="citta">
                    </div>
                    <div class="mb-3">
                        <label for="provincia" class="form-label">Provincia</label>
                        <input type="text" class="form-control" id="provincia" name="provincia">
                    </div>
                    <div class="mb-3">
                        <label for="cap" class="form-label">CAP</label>
                        <input type="text" class="form-control" id="cap" name="cap">
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" class="form-control" id="email" name="email">
                    </div>
                    <div class="mb-3">
                        <label for="sito_web" class="form-label">Sito Web</label>
                        <input type="text" class="form-control" id="sito_web" name="sito_web">
                    </div>
                    <div class="mb-3">
                        <label for="partita_iva" class="form-label">Partita IVA</label>
                        <input type="text" class="form-control" id="partita_iva" name="partita_iva">
                    </div>
                    <button type="submit" class="btn btn-success">Add Client</button>
                </form>
            </div>

            <a href="/api/users/logout/" class="btn btn-secondary mt-3">Logout</a>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
